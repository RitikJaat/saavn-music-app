{"ast":null,"code":"/**\n * Decodes HTML entities in a string\n * @param text The text to decode\n * @returns The decoded text\n */\nexport const decodeHtmlEntities = str => {\n  if (!str) return '';\n  let txt = document.createElement('textarea');\n  txt.innerHTML = str;\n  return txt.value;\n};\n\n/**\n * Safely parses a string to an integer with fallback to 0\n * @param value The string value to parse\n * @returns The parsed integer or 0 if invalid\n */\nexport const safeParseInt = value => {\n  if (!value) return 0;\n  const parsed = parseInt(value);\n  return isNaN(parsed) ? 0 : parsed;\n};\n\n/**\n * Extracts the best image URL from an image object or array\n * @param image The image object, array, or string\n * @returns The best quality image URL\n */\nexport const getBestImageUrl = image => {\n  // Default image if no image provided\n  const defaultImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABh0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzT7MfTgAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMS8wOC8xMOr+6FIAAAPsSURBVHic7dyxjsIwFABBfOL/f9lXXIu2cC44ZqYGWysW2bFsN8MwjAFc2j79B8AnEwhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUA=';\n  if (!image) return defaultImage;\n\n  // Handle string URLs directly\n  if (typeof image === 'string') return image;\n\n  // Handle array of image objects\n  if (Array.isArray(image) && image.length > 0) {\n    // Try to find 500x500 image\n    const highRes = image.find(img => img.quality === \"500x500\");\n    if (highRes && highRes.url) return highRes.url;\n\n    // Try to find 150x150 image\n    const medRes = image.find(img => img.quality === \"150x150\");\n    if (medRes && medRes.url) return medRes.url;\n\n    // Fall back to first image\n    if (image[0] && image[0].url) return image[0].url;\n  }\n\n  // Fallback\n  return defaultImage;\n};\nexport const getProxiedImageUrl = url => {\n  // If it's an array of image objects, extract the best URL\n  if (Array.isArray(url)) {\n    return getBestImageUrl(url);\n  }\n\n  // Default image if no URL provided\n  if (!url) return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABh0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzT7MfTgAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMS8wOC8xMOr+6FIAAAPsSURBVHic7dyxjsIwFABBfOL/f9lXXIu2cC44ZqYGWysW2bFsN8MwjAFc2j79B8AnEwhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUA=';\n\n  // Ensure url is a string\n  const urlStr = String(url);\n\n  // If it's already a data URI, return as is\n  if (urlStr.startsWith('data:')) return urlStr;\n\n  // If it's a relative URL, return as is\n  if (urlStr.startsWith('/')) return urlStr;\n\n  // Direct return of URL, browsers can handle CORS for img tags\n  return urlStr;\n};","map":{"version":3,"names":["decodeHtmlEntities","str","txt","document","createElement","innerHTML","value","safeParseInt","parsed","parseInt","isNaN","getBestImageUrl","image","defaultImage","Array","isArray","length","highRes","find","img","quality","url","medRes","getProxiedImageUrl","urlStr","String","startsWith"],"sources":["/home/m0nster/Desktop/Code/Test/saavn-music-app/src/utils/helpers.ts"],"sourcesContent":["/**\n * Decodes HTML entities in a string\n * @param text The text to decode\n * @returns The decoded text\n */\nexport const decodeHtmlEntities = (str?: string): string => {\n  if (!str) return '';\n  let txt = document.createElement('textarea');\n  txt.innerHTML = str;\n  return txt.value;\n};\n\n/**\n * Safely parses a string to an integer with fallback to 0\n * @param value The string value to parse\n * @returns The parsed integer or 0 if invalid\n */\nexport const safeParseInt = (value?: string): number => {\n  if (!value) return 0;\n  const parsed = parseInt(value);\n  return isNaN(parsed) ? 0 : parsed;\n};\n\n/**\n * Extracts the best image URL from an image object or array\n * @param image The image object, array, or string\n * @returns The best quality image URL\n */\nexport const getBestImageUrl = (image: any): string => {\n  // Default image if no image provided\n  const defaultImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABh0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzT7MfTgAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMS8wOC8xMOr+6FIAAAPsSURBVHic7dyxjsIwFABBfOL/f9lXXIu2cC44ZqYGWysW2bFsN8MwjAFc2j79B8AnEwhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUA=';\n  \n  if (!image) return defaultImage;\n\n  // Handle string URLs directly\n  if (typeof image === 'string') return image;\n\n  // Handle array of image objects\n  if (Array.isArray(image) && image.length > 0) {\n    // Try to find 500x500 image\n    const highRes = image.find(img => img.quality === \"500x500\");\n    if (highRes && highRes.url) return highRes.url;\n\n    // Try to find 150x150 image\n    const medRes = image.find(img => img.quality === \"150x150\");\n    if (medRes && medRes.url) return medRes.url;\n\n    // Fall back to first image\n    if (image[0] && image[0].url) return image[0].url;\n  }\n\n  // Fallback\n  return defaultImage;\n};\n\nexport const getProxiedImageUrl = (url: any): string => {\n  // If it's an array of image objects, extract the best URL\n  if (Array.isArray(url)) {\n    return getBestImageUrl(url);\n  }\n  \n  // Default image if no URL provided\n  if (!url) return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABh0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzT7MfTgAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMS8wOC8xMOr+6FIAAAPsSURBVHic7dyxjsIwFABBfOL/f9lXXIu2cC44ZqYGWysW2bFsN8MwjAFc2j79B8AnEwhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUAUCESBQBQIRIFAFAhEgUA=';\n  \n  // Ensure url is a string\n  const urlStr = String(url);\n  \n  // If it's already a data URI, return as is\n  if (urlStr.startsWith('data:')) return urlStr;\n  \n  // If it's a relative URL, return as is\n  if (urlStr.startsWith('/')) return urlStr;\n  \n  // Direct return of URL, browsers can handle CORS for img tags\n  return urlStr;\n}; "],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,kBAAkB,GAAIC,GAAY,IAAa;EAC1D,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;EACnB,IAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;EAC5CF,GAAG,CAACG,SAAS,GAAGJ,GAAG;EACnB,OAAOC,GAAG,CAACI,KAAK;AAClB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,YAAY,GAAID,KAAc,IAAa;EACtD,IAAI,CAACA,KAAK,EAAE,OAAO,CAAC;EACpB,MAAME,MAAM,GAAGC,QAAQ,CAACH,KAAK,CAAC;EAC9B,OAAOI,KAAK,CAACF,MAAM,CAAC,GAAG,CAAC,GAAGA,MAAM;AACnC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,eAAe,GAAIC,KAAU,IAAa;EACrD;EACA,MAAMC,YAAY,GAAG,gwBAAgwB;EAErxB,IAAI,CAACD,KAAK,EAAE,OAAOC,YAAY;;EAE/B;EACA,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;;EAE3C;EACA,IAAIE,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,IAAIA,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;IAC5C;IACA,MAAMC,OAAO,GAAGL,KAAK,CAACM,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,OAAO,KAAK,SAAS,CAAC;IAC5D,IAAIH,OAAO,IAAIA,OAAO,CAACI,GAAG,EAAE,OAAOJ,OAAO,CAACI,GAAG;;IAE9C;IACA,MAAMC,MAAM,GAAGV,KAAK,CAACM,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,OAAO,KAAK,SAAS,CAAC;IAC3D,IAAIE,MAAM,IAAIA,MAAM,CAACD,GAAG,EAAE,OAAOC,MAAM,CAACD,GAAG;;IAE3C;IACA,IAAIT,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,CAACS,GAAG,EAAE,OAAOT,KAAK,CAAC,CAAC,CAAC,CAACS,GAAG;EACnD;;EAEA;EACA,OAAOR,YAAY;AACrB,CAAC;AAED,OAAO,MAAMU,kBAAkB,GAAIF,GAAQ,IAAa;EACtD;EACA,IAAIP,KAAK,CAACC,OAAO,CAACM,GAAG,CAAC,EAAE;IACtB,OAAOV,eAAe,CAACU,GAAG,CAAC;EAC7B;;EAEA;EACA,IAAI,CAACA,GAAG,EAAE,OAAO,4uBAA4uB;;EAE7vB;EACA,MAAMG,MAAM,GAAGC,MAAM,CAACJ,GAAG,CAAC;;EAE1B;EACA,IAAIG,MAAM,CAACE,UAAU,CAAC,OAAO,CAAC,EAAE,OAAOF,MAAM;;EAE7C;EACA,IAAIA,MAAM,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE,OAAOF,MAAM;;EAEzC;EACA,OAAOA,MAAM;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}